<!DOCTYPE html>
<html lang="ja">
<head>
  <label for="name_id">id:</label><input
    type="url"
    id="name_id"
    name="name_id"
    value="donut"
    required
    minlength="4"
    maxlength="8"
    size=40 />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AR Model Viewer</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    /* ページ全体の余白・スクロールを無効にして、ビューポート全体を確保 */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden; /* 全体のスクロールを無効にする */
      height: 100%;
    }

    /* <model-viewer>自身に全画面表示とタッチ操作の制御を適用 */
    model-viewer {
      width: 100vw;
      height: -webkit-fill-available;
      display: block;    /* インライン要素の特性を防ぐ */
      touch-action: pan-y; /* タッチ操作によるスクロールやパンを無効化 */
    }
    /* Webkit-fill-available未対応のブラウザ向けのスタイル */
    @media (max-width: 767px) {
      header {
        height: 100vh;
      }
    }
  </style>
</head>
<body>
  <model-viewer
    ar
    ar-modes="scene-viewer webxr quick-look"
    src="./donut.glb"
    ios-src="./donut.usdz"
    alt="Cyawan"
    auto-rotate
    camera-controls>
  </model-viewer>
  <script>
    // let input_name = document.getElementById("name_id");
    // // let viewer_3d = document.getElementsByName("viewer");
    // let viewer_3d = document.querySelector("model-viewer");
    // // イベントリスナーでイベント「change」を登録
    // input_name.addEventListener("change",function(){
    //   console.log("Change model");
    //   console.log(this.value);
    //   console.log("./"+this.value+".glb")
    //   // viewer_3d.setAttribute("src","./"+this.value+".glb")
    //   viewer_3d.src = "./"+this.value+".glb";
    //   // viewer_3d.setAttribute("ios-src","./"+this.value+".usdz")
    //   viewer_3d.iosSrc = "./"+this.value+".usdz";
    // });
  </script>
</body>
</html>
